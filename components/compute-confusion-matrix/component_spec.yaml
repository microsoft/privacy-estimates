
$schema: https://componentsdk.azureedge.net/jsonschema/CommandComponent.json
name: privacy_games-conversion-compute-confusion-matrix
display_name: Create confusion matrix
version: local1
type: CommandComponent
description: Create confusion matrix
inputs:
  attack_guesses:
    type: DataFrameDirectory
    description: Attack guesses
    optional: false
  challenge_bits:
    type: DataFrameDirectory
    description: Challenge bits
    optional: false
outputs:
  confusion_matrix:
    type: AnyFile
    description: The confusion matrix as JSON file
code: ../../
command: >-
  python -m pip install . && python bin/compute-confusion-matrix.py
    --attack_guesses {inputs.attack_guesses}/data.parquet
    --challenge_bits {inputs.challenge_bits}/data.parquet
    --output_path {outputs.confusion_matrix}/data.json
environment:
  conda:
    conda_dependencies_file: environment.yaml
  os: Linux
